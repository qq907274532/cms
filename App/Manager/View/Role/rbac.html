<include file="Public/header" />
        <!--sidebar left start-->
    <include file="Public/menu" />  
    <style type="text/css">
    
    .wminimize:hover{
        text-decoration:none;
    }
    .table thead>tr>th, .table tbody>tr>th, .table tfoot>tr>th, .table thead>tr>td, .table tbody>tr>td, .table tfoot>tr>td {
            padding: 8px;
            line-height: 1.428571429;
            vertical-align: top;
             border-top: 0px solid #ddd; 
}
</style>
        <!--main content start-->
        <section class="main-content-wrapper">
            <section id="main-content">
                <div class="row">
                    <div class="col-md-12">
                        <!--breadcrumbs start -->
                        <ul class="breadcrumb">
                            <li><a href="#">首页</a>
                            </li>
                            <li>角色管理</li>
                            <li class="active">角色授权</li>
                            <li class="pull-right"><a  href="{:U('Role/index')}" class="btn btn-info">返回列表</a></li>
                            
                        </ul>
                        <!--breadcrumbs end -->
                       
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">角色授权</h3>
                                <div class="actions pull-right">
                                    <i class="fa fa-chevron-down"></i>
                                    
                                </div>
                            </div>
                            <div class="panel-body">
                               <form action="" method="post">
                                    <table id="sample-table-1" class="table table-striped table-hover">
                                        

                                        <tbody>
                                         <volist name="list" id="val">
                                            <tr>
                                                <th class="right" colspan="6">
                                                <input type="checkbox" class="ace" name="node[]"  value="{$val.id}"  <if condition="$val.access eq 1">checked=checked</if>/>
                                                        <span class="lbl">&nbsp;&nbsp;{$val.title}</span>
                                                    
                                                </th>
                                                
                                            </tr>
                                          <volist name="val.child" id="vo">
                                            <tr>
                                                <td class="right td{$val.id}">

                                                        <input type="checkbox" class="ace" name="node[]"  value="{$vo.id}" <if condition="$vo.access eq 1">checked=checked</if> />
                                                        <span class="lbl">&nbsp;&nbsp;{$vo.title}</span>
                                                </td>
                                             <volist name="vo.child" id="v">
                                                <td class="td{$val.id}">
                                                        <input type="checkbox" class="ace" name="node[]" value="{$v.id}" <if condition="$v.access eq 1">checked=checked</if>/>
                                                        <span class="lbl">&nbsp;&nbsp;{$v.title}</span>
                                                </td>
                                             </volist>
                                            </tr>
                                          </volist>

                                         </volist>
                                        <tr>
                                            <td colspan="5">
                                            <input type="hidden" name="id" value="{$id}">
                                            <button class="btn btn-info " type="submit">
                                                <i class="icon-ok bigger-110"></i>
                                                提交
                                            </button></td>
                                        </tr>

                                        </tbody>
                                    
                                   </table>
                                  
                                </form>

                            </div>
                           
                        </div>
                    </div>
                </div>

            </section>
        </section>
        <!--main content end-->
        <!--sidebar right start-->
     
        <!--sidebar right end-->
    </section>
    <!--Global JS-->
    <script src="__PUBLIC__/assets/js/jquery-1.10.2.min.js"></script>
    <script src="__PUBLIC__/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="__PUBLIC__/assets/plugins/waypoints/waypoints.min.js"></script>
    <script src="__PUBLIC__/assets/plugins/nanoScroller/jquery.nanoscroller.min.js"></script>
    <script src="__PUBLIC__/assets/js/application.js"></script>
    <!--Page Leve JS -->
    <script src="__PUBLIC__/assets/plugins/dataTables/js/jquery.dataTables.js"></script>
    <script src="__PUBLIC__/assets/plugins/dataTables/js/dataTables.bootstrap.js"></script>
   <script type="text/javascript">
       $(function(){
            $('table th input:checkbox').on('click' , function(){
                    var that = this;
                    var id='.td'+$(this).val();
                    $(this).closest('tr').nextAll().find(id+' input:checkbox')
                    .each(function(){
                        this.checked = that.checked;
                        //$(this).closest('tr').toggleClass('selected');
                    });
                        
                });
            
                $('table .right input:checkbox').on('click' , function(){
                    var that = this;
                    //alert($(this).closest('td').attr('class'));
                    $(this).closest('tr').find('td input:checkbox')
                    .each(function(){
                        this.checked = that.checked;
                        $(this).closest('tr').toggleClass('selected');
                    });
                        
                });
       });
   </script>


</body>

</html>
